<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Datatypes · FortranFiles.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="index.html"><img class="logo" src="assets/logo.png" alt="FortranFiles.jl logo"/></a><h1>FortranFiles.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li><a class="toctext" href="files.html">Files</a></li><li class="current"><a class="toctext" href="types.html">Datatypes</a><ul class="internal"><li><a class="toctext" href="#Type-Correspondence-1">Type Correspondence</a></li><li><a class="toctext" href="#Strings-1">Strings</a></li><li><a class="toctext" href="#Logicals-1">Logicals</a></li></ul></li><li><a class="toctext" href="read.html">Reading Data</a></li><li><a class="toctext" href="write.html">Writing Data</a></li><li><a class="toctext" href="tests.html">Package Tests</a></li><li><a class="toctext" href="theindex.html">Index</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="types.html">Datatypes</a></li></ul><a class="edit-page" href="https://github.com/traktofon/FortranFiles.jl/blob/master/docs/src/types.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Datatypes</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Datatypes-1" href="#Datatypes-1">Datatypes</a></h1><p>When reading files created by a Fortran program, you need to be aware of the exact datatypes that were used to write the data. It is essential to specify the correct corresponding Julia datatype when using the <code>read</code> function provided by this package. Especially, note that the default Fortran <code>INTEGER</code> datatype on most systems corresponds to Julia&#39;s <code>Int32</code> datatype, which differs from Julia&#39;s default <code>Int</code> datatype on 64-bit systems.</p><p>Likewise, when using this package to write Julia data into files which should be readable by a Fortran program, you need to define your data with the correct datatypes, or convert them appropriately before using them in the <code>write</code> function.</p><h2><a class="nav-anchor" id="Type-Correspondence-1" href="#Type-Correspondence-1">Type Correspondence</a></h2><p>The following table lists the Julia types which correspond to the standard Fortran types:</p><table><tr><th>Fortran type</th><th>a.k.a.</th><th>Julia type</th></tr><tr><td>INTEGER(KIND=INT8)</td><td>INTEGER*1</td><td>Int8</td></tr><tr><td>INTEGER(KIND=INT16)</td><td>INTEGER*2</td><td>Int16</td></tr><tr><td>INTEGER(KIND=INT32)</td><td>INTEGER*4</td><td>Int32</td></tr><tr><td>INTEGER(KIND=INT64)</td><td>INTEGER*8</td><td>Int64</td></tr><tr><td>REAL(KIND=REAL32)</td><td>REAL*4</td><td>Float32</td></tr><tr><td>REAL(KIND=REAL64)</td><td>REAL*8</td><td>Float64</td></tr><tr><td>COMPLEX(KIND=REAL32)</td><td>COMPLEX*8</td><td>ComplexF32</td></tr><tr><td>COMPLEX(KIND=REAL64)</td><td>COMPLEX*16</td><td>ComplexF64</td></tr><tr><td>CHARACTER(LEN=<em>N</em>)</td><td>CHARACTER*(<em>N</em>)</td><td>FString{<em>N</em>}</td></tr></table><p>The first column lists the datatypes using the kind parameters according to the Fortran2008 standard. Most Fortran programs will likely use type declarations as in the second column, although these don&#39;t conform to the Fortran standard. If the Fortran program doesn&#39;t specify the kind, then the exact Fortran datatype also depends on the compiler options (which can influence the default kind of integers and reals).</p><p>This package currently only supports one kind of <code>CHARACTER</code> data, namely ASCII characters with one byte of storage per character.</p><h2><a class="nav-anchor" id="Strings-1" href="#Strings-1">Strings</a></h2><p>Fortran character strings possess an inherent length property. To support reading and writing such data, this package defines an <code>FString</code> datatype which takes the length as a type parameter:</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="FortranFiles.FString" href="#FortranFiles.FString"><code>FortranFiles.FString</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">FString{L}</code></pre><p>Datatype for reading and writing character strings from <code>FortranFile</code>s. The type parameter <code>L</code> signifies the length of the string. This is the equivalent to the Fortran datatype <code>CHARACTER(len=L)</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/traktofon/FortranFiles.jl/blob/0d58fcdc7c8d05bb6fe931fc2c1a59e5ad1b5594/src/string.jl#L6-L12">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="FortranFiles.FString-Tuple{Any,String}" href="#FortranFiles.FString-Tuple{Any,String}"><code>FortranFiles.FString</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">FString(L, s::String)</code></pre><p>Convert the Julia <code>String</code> <code>s</code> to an <code>FString{L}</code>. <code>s</code> must contain only ASCII characters. As in Fortran, the string will be padded with spaces or truncated in order to reach the desired length.</p></div><a class="source-link" target="_blank" href="https://github.com/traktofon/FortranFiles.jl/blob/0d58fcdc7c8d05bb6fe931fc2c1a59e5ad1b5594/src/string.jl#L33-L39">source</a></section><p>There is not much you can do with <code>FString</code>s, except <code>print</code>ing them and <code>write</code>ing them back to a <code>FortranFile</code>.  For conversion to a Julia <code>String</code>, use the following:</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="FortranFiles.trimstring" href="#FortranFiles.trimstring"><code>FortranFiles.trimstring</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">trimstring(s::FString)</code></pre><p>Convert the <code>FString</code> <code>s</code> into a Julia <code>String</code>, where trailing spaces are removed. Use <code>String(s)</code> to keep the spaces.</p></div><a class="source-link" target="_blank" href="https://github.com/traktofon/FortranFiles.jl/blob/0d58fcdc7c8d05bb6fe931fc2c1a59e5ad1b5594/src/string.jl#L81-L86">source</a></section><p>To make it easier to convert Fortran code into Julia, the following functions are provided for convenience:</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="FortranFiles.trimlen" href="#FortranFiles.trimlen"><code>FortranFiles.trimlen</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">trimlen(s::FString)</code></pre><p>Returns the length of the <code>FString</code> <code>s</code> with trailing spaces ignored.</p></div><a class="source-link" target="_blank" href="https://github.com/traktofon/FortranFiles.jl/blob/0d58fcdc7c8d05bb6fe931fc2c1a59e5ad1b5594/src/string.jl#L56-L60">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="FortranFiles.trim" href="#FortranFiles.trim"><code>FortranFiles.trim</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">trim(s::FString)</code></pre><p>Returns a truncated copy of the <code>FString</code> <code>s</code> where all trailing spaces are removed.</p></div><a class="source-link" target="_blank" href="https://github.com/traktofon/FortranFiles.jl/blob/0d58fcdc7c8d05bb6fe931fc2c1a59e5ad1b5594/src/string.jl#L70-L75">source</a></section><h2><a class="nav-anchor" id="Logicals-1" href="#Logicals-1">Logicals</a></h2><p>It is currently undecided how best to support I/O of Fortran <code>LOGICAL</code> data, pending some design decisions.</p><p>For the moment, such data can be read or written by treating them as integer data, where 0 corresponds to <code>false</code> and 1 or -1 corresponds to <code>true</code> (depending on the Fortran system). According to the Fortran standard, the storage size for the default <code>LOGICAL</code> kind must be the same as for the default <code>INTEGER</code> kind, therefore you probably want to use Int32 data in Julia.</p><footer><hr/><a class="previous" href="files.html"><span class="direction">Previous</span><span class="title">Files</span></a><a class="next" href="read.html"><span class="direction">Next</span><span class="title">Reading Data</span></a></footer></article></body></html>
